{% import "macros/icon.html" as macros_icon %}

<aside id="badges">
	<strong class="title">Badges</strong>
	<p>
		<small><abbr title="Also Known As">AKA</abbr> 88x31 buttons</small>
	</p>
	<input type="checkbox" id="badges-popup-expand" class="visually-hidden" autocomplete="off" />
	<label for="badges-popup-expand" autocomplete="off" title="Link to Me">
		{{- macros_icon::icon(name="plus") -}}
		{{- macros_icon::icon(name="x") -}}
	</label>
	<div id="badges-popup">
		<p>
			If you'd like to link to me, you can use one of the following badges:
		</p>
		<ul>
			<li>
				<img class="pixels transparent no-hover" alt="daudix" src="{{ get_url(path='home/badges/daudix.gif') }}" />
				<span>Current</span>
			</li>
			<li>
				<img class="pixels transparent no-hover" alt="daudix-neocities" src="{{ get_url(path='home/badges/daudix-neocities.gif') }}" />
				<span>Neocities</span>
			</li>
			<li>
				<img class="pixels transparent no-hover" alt="daudix-synthwave" src="{{ get_url(path='home/badges/daudix-synthwave.gif') }}" />
				<span>Synthwave</span>
			</li>
			<li>
				<img class="pixels transparent no-hover" alt="daudix-tile" src="{{ get_url(path='home/badges/daudix-tile.gif') }}" />
				<span>Tile</span>
			</li>
		</ul>
	</div>
	<div id="here"></div>
	<div class="marquee-wrapper overshoot-row">
		<div class="marquee">
			<ul style="--duration: {{ page.extra.badges | length * 2 }}s">
				{%- for badge in page.extra.badges -%}
					<li>
						{%- if badge.url -%}
							<a href="{{ badge.url }}">
						{%- endif -%}
							<img
								class="pixels transparent no-hover"
								{%- if badge.alt -%}
									{%- set badge_alt = badge.alt -%}
								{%- else -%}
									{%- set badge_alt = badge.name | split(pat=".", limit=2) | first -%}
								{%- endif -%}
								alt="{{ badge_alt }}"
								{% set badge_path = "home/badges/" ~ badge.name %}
								src="{{ get_url(path=badge_path) }}"
							/>
						{%- if badge.url -%}
							</a>
						{%- endif -%}
					</li>
				{%- endfor -%}
				<li>
					<iframe src="https://incr.easrng.net/badge?key={{ config.base_url | replace(from='https://', to='') }}" title="increment badge"></iframe>
				</li>
				<li>
					<a href="{{ get_url(path='badges/') }}" id="more"><span>more +<br />stamps</span></a>
				</li>
			</ul>
			<ul style="--duration: {{ page.extra.badges | length * 2 }}s" aria-hidden="true">
				{%- for badge in page.extra.badges -%}
					<li>
						{%- if badge.url -%}
							<a href="{{ badge.url }}">
						{%- endif -%}
							<img
								class="pixels transparent no-hover"
								{%- if badge.alt -%}
									{%- set badge_alt = badge.alt -%}
								{%- else -%}
									{%- set badge_alt = badge.name | split(pat=".", limit=2) | first -%}
								{%- endif -%}
								alt="{{ badge_alt }}"
								{% set badge_path = "home/badges/" ~ badge.name %}
								src="{{ get_url(path=badge_path) }}"
							/>
						{%- if badge.url -%}
							</a>
						{%- endif -%}
					</li>
				{%- endfor -%}
				<li>
					<iframe src="https://incr.easrng.net/badge?key={{ config.base_url | replace(from='https://', to='') }}" title="increment badge"></iframe>
				</li>
				<li>
					<a href="{{ get_url(path='badges/') }}" id="more"><span>more +<br />stamps</span></a>
				</li>
			</ul>
		</div>
	</div>
</aside>
